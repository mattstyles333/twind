<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="../output.css" rel="stylesheet" />
</head>
<div class="registration-container registation-container">
  <style>
    @media (max-width: 639px) {
      .customer-account-create .columns {
        max-width: fit-content;
        padding: 0;
      }
    }
  </style>
  <div class="title.container flex justify-center">
    <div
      class="page-title-container container my-6 flex flex-col flex-wrap justify-center text-3xl font-bold font-extrabold text-gray-900 md:flex-row lg:mt-8"
    >
      <h1 class="page-title title-font px-3 text-gray-900">
        <span class="base" data-ui-id="page-title-wrapper"
          >Create New Customer Account</span
        >
      </h1>
    </div>
  </div>
  <div class="flex items-center justify-center px-3 sm:px-6 lg:px-8">
    <div
      class="w-full max-w-xl space-y-8 rounded-lg bg-white px-4 py-6 shadow-lg shadow-slate-400"
    >
      <form
        class="form create account form-create-account"
        action="https://test.s4l.link/customer/account/createpost/"
        x-data="Object.assign(hyva.formValidation($el), initForm())"
        id="accountcreate"
        @submit.prevent="submitForm()"
        method="post"
        enctype="multipart/form-data"
        autocomplete="off"
        novalidate=""
      >
        <input type="hidden" name="success_url" value="" />
        <input type="hidden" name="error_url" value="" />

        <input name="form_key" type="hidden" value="HiNMosOxaDz8OWfc" />
        <div class="control">
          <input type="hidden" value="" name="g-recaptcha-response" />
        </div>
        <fieldset class="card w-full space-y-6">
          <div
            class="field field-reserved field-name-firstname required w-full"
          >
            <div class="control">
              <input
                type="text"
                id="firstname"
                name="firstname"
                value=""
                placeholder="First Name"
                required=""
                title="First Name"
                class="form-input required-entry relative block w-full rounded-lg rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500"
                @input.debounce="onChange"
              />
            </div>
          </div>
          <div class="field field-reserved field-name-lastname required w-full">
            <div class="control">
              <input
                type="text"
                id="lastname"
                name="lastname"
                placeholder="Last Name"
                required=""
                value=""
                title="Last Name"
                class="form-input form-input required-entry relative block w-full rounded-lg rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500"
                @input.debounce="onChange"
              />
            </div>
          </div>

          <div class="field field-reserved required">
            <div class="control">
              <input
                type="email"
                name="email"
                autocomplete="email"
                id="email_address"
                placeholder="Email Address"
                required=""
                value=""
                title="Email"
                class="form-input relative block w-full rounded-lg rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500"
                @input.debounce="onChange"
              />
            </div>
          </div>
          <div class="field field-reserved">
            <div class="control">
              <div class="sr-only" aria-live="polite">
                <template x-if="!showPassword">
                  <span> Password hidden </span> </template
                ><span> Password hidden </span>
                <template x-if="showPassword">
                  <span> Password shown </span>
                </template>
              </div>
              <div class="relative">
                <input
                  :type="showPassword ? 'text' : 'password'"
                  type="password"
                  id="password"
                  name="password"
                  title="Password"
                  minlength="8"
                  class="form-input block w-full rounded-lg rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500"
                  placeholder="Password"
                  required=""
                  data-validate='{"password-strength": {"minCharacterSets": 3}}'
                  @input.debounce="onChange"
                  autocomplete="off"
                />
                <button
                  type="button"
                  :aria-pressed="showPassword ? true : false"
                  x-on:click="showPassword = !showPassword"
                  class="absolute right-0 top-0 inline-block px-4 py-2"
                  :aria-label="showPassword ? 'Hide\u0020Password' : 'Show\u0020Password'"
                  aria-pressed="false"
                  aria-label="Show Password"
                >
                  <span>üëÅÔ∏è</span>
                </button>
              </div>
              <div
                id="password-strength-meter-container"
                data-role="password-strength-meter"
                aria-live="polite"
              >
                <div
                  id="password-strength-meter"
                  class="password-strength-meter pt-1 text-sm text-gray-900"
                >
                  Password Strength:
                  <span
                    id="password-strength-meter-label"
                    data-role="password-strength-meter-label"
                  >
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="field field-reserved">
            <div class="control">
              <div class="sr-only" aria-live="polite">
                <template x-if="!showPasswordConfirm">
                  <span> Confirm password hidden </span> </template
                ><span> Confirm password hidden </span>
                <template x-if="showPasswordConfirm">
                  <span> confirm password shown </span>
                </template>
              </div>
              <div class="relative">
                <input
                  :type="showPasswordConfirm ? 'text' : 'password'"
                  type="password"
                  name="password_confirmation"
                  title="Confirm Password"
                  id="password-confirmation"
                  data-validate='{"equalTo": "password"}'
                  @input.debounce="onChange"
                  placeholder="Confirm Password"
                  required=""
                  class="form-input relative block w-full rounded-lg rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500"
                  autocomplete="off"
                />
                <button
                  type="button"
                  x-on:click="showPasswordConfirm = !showPasswordConfirm"
                  :aria-pressed="showPasswordConfirm ? true : false"
                  class="absolute right-0 top-0 px-4 py-2"
                  :aria-label="
                                    showPasswordConfirm ? 'Hide\u0020Password' : 'Show\u0020Password'
                                "
                  aria-pressed="false"
                  aria-label="Show Password"
                >
                  <span>üëÅÔ∏è</span>
                </button>
              </div>
            </div>
          </div>
          <div class="flex flex-wrap justify-between py-3">
            <div class="field choice newsletter">
              <input
                type="checkbox"
                name="is_subscribed"
                title="Sign Up for Newsletter"
                value="1"
                id="is_subscribed"
                class="checkbox !mr-2 inline-block h-4 w-4 rounded border border-gray-300 bg-white"
              />
              <label for="is_subscribed" class="label">
                <span> Sign Up for Newsletter </span>
              </label>
            </div>

            <script>
              function initAllowShippingAssistence() {
                return {
                  isAllowed: false,
                  showTooltip: false,
                  onChange(value) {
                    /**
                     * assistance_allowed accepts 2 for "allowed" and 1 for "not allowed"
                     * if assistance_allowed_checkbox is set to false, we cast it to 0 and add 1 === "1"
                     * if assistance_allowed_checkbox is set to true, we cast it to 1 and add 1 === "2"
                     */
                    this.$refs["assistance-input"].value = Number(value) + 1;
                  },
                };
              }
            </script>
            <div class="field choice" x-data="initAllowShippingAssistence()">
              <input
                type="checkbox"
                @change="onChange($event.target.checked)"
                name="assistance_allowed_checkbox"
                id="assistance_allowed_checkbox"
                value="1"
                title="Allow remote shopping assistance"
                class="checkbox !mr-2 inline-block h-4 w-4 rounded border border-gray-300 bg-white"
                aria-describedby="assistance_allowed_checkbox_tooltip"
              />
              <label class="label" for="assistance_allowed_checkbox">
                <span>Allow remote shopping assistance</span>
              </label>
              <input
                type="hidden"
                name="assistance_allowed"
                x-ref="assistance-input"
                value="1"
              />

              <div class="inline-flex">
                <button
                  type="button"
                  @mouseover.prevent.stop="showTooltip = true"
                  @mouseleave.prevent.stop="showTooltip = false"
                  @focus="showTooltip = true"
                  @focusout="showTooltip = false"
                  @keydown.escape="showTooltip = false"
                  aria-labelledby="assistance_allowed_checkbox_tooltip"
                  aria-disabled="true"
                >
                  <span
                    class="ml-2 inline-flex h-6 w-6 items-center justify-center rounded-full bg-gray-200 font-bold"
                    >?</span
                  >
                </button>
                <div
                  class="relative"
                  x-show="showTooltip"
                  style="display: none"
                >
                  <div class="shadow-lg">
                    <div
                      class="absolute left-0 top-0 z-10 -mt-6 w-64 -translate-x-full -translate-y-full transform rounded-lg bg-white p-2 p-4 text-sm leading-tight text-black shadow-lg md:-translate-x-1/3"
                    >
                      <span
                        class="subtitle text-base"
                        id="assistance_allowed_checkbox_tooltip"
                      >
                        This allows merchants to "see what you see" and take
                        actions on your behalf in order to provide better
                        assistance.
                      </span>
                    </div>

                    <svg
                      class="absolute z-10 h-8 w-8 -translate-x-full -translate-y-8 transform fill-current stroke-current text-white"
                      width="12"
                      height="12"
                      aria-hidden="true"
                    >
                      <rect
                        x="12"
                        y="-12"
                        width="12"
                        height="12"
                        transform="rotate(45)"
                        class="shadow-xl"
                      ></rect>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="actions-toolbar flex !flex-col !border-none">
            <div
              class="flex w-full flex-col flex-wrap justify-between md:flex-row"
            >
              <div class="mstSocialLogin__login _createAfter mb-4 md:mb-0">
                <a
                  href="https://test.s4l.link/mst_social/account/login/provider/google/"
                  data-element="social-login"
                  title="Sign in with Google"
                  class="mstSocialLogin__button _google _mode-button"
                  style="visibility: visible"
                >
                  <span>Sign in with Google</span>
                </a>
              </div>

              <div class="primary">
                <button
                  type="submit"
                  class="action submit primary btn btn-primary !bg-s hover:!bg-p !rounded !px-4 !py-2 !font-bold !leading-7 !text-white !duration-700 !ease-in-out disabled:opacity-75"
                  title="Create an Account"
                  disabled="disabled"
                  data-recaptcha-btn=""
                >
                  <span>Create an Account</span>
                </button>
              </div>
            </div>
            <div class="recaptcha-info w-full pt-3">
              <p class="my-4 text-sm text-gray-900">
                This form is protected by reCAPTCHA - the
                <a
                  class="underline"
                  href="https://policies.google.com/privacy"
                  target="_blank"
                  rel="noopener"
                  >Google Privacy Policy</a
                >
                and
                <a
                  class="underline"
                  href="https://policies.google.com/terms"
                  target="_blank"
                  rel="noopener"
                  >Terms of Service</a
                >
                apply.
              </p>
            </div>
            <div class="secondary flex w-full justify-start pt-3">
              <a
                class="action back !no-underline"
                href="https://test.s4l.link/customer/account/login/referer/aHR0cHM6Ly90ZXN0LnM0bC5saW5rL2N1c3RvbWVyL2FjY291bnQvY3JlYXRlLw~~/"
              >
                <span class="text-sm font-semibold"> Back </span>
              </a>
            </div>
          </div>
        </fieldset>
      </form>

      <script>
        function initForm() {
          return {
            errors: 0,
            hasCaptchaToken: 0,
            showPassword: false,
            showPasswordConfirm: false,
            submitForm() {
              this.validate()
                .then(() => {
                  // Do not rename $form, the variable is expected to be declared in the recaptcha output
                  const $form = document.querySelector("#accountcreate");
                  if (!this.hasCaptchaToken) {
                    this.errors = 1;

                    const executeGreCaptcha = () => {
                      grecaptcha.ready(() => {
                        grecaptcha
                          .execute(
                            "6LeKmk0jAAAAAHFhGTl_oHLIxTg\u002DigzafewMeFA8",
                            { action: "submit" },
                          )
                          .then((token) => {
                            if (token && token.length > 0) {
                              $form["g\u002Drecaptcha\u002Dresponse"].value =
                                token;
                              this.errors = 0;
                              this.hasCaptchaToken = 1;
                              (this.submitForm || $form.submit).call(this);
                            } else {
                              this.errors = 1;
                              const error =
                                "ReCaptcha\u0020validation\u0020failed,\u0020please\u0020try\u0020again";
                              if (this.setErrorMessages) {
                                this.setErrorMessages([error]);
                                this.displayErrorMessage = true;
                              } else {
                                window.dispatchMessages &&
                                  window.dispatchMessages(
                                    [{ type: "error", text: error }],
                                    5000,
                                  );
                              }
                            }
                          })
                          .catch((exception) => {
                            console.error(
                              exception ||
                                `An unknown error occurred during ReCaptcha validation. Are the tokens and the domain correctly set up in the Google console?`,
                            );
                          });
                      });
                    };

                    if (window.grecaptcha) {
                      executeGreCaptcha();
                    } else {
                      const recaptchaUrl =
                        "https://www.google.com/recaptcha/api.js?render=6LeKmk0jAAAAAHFhGTl_oHLIxTg\u002DigzafewMeFA8";
                      const script = document.createElement("script");
                      script.setAttribute("type", "text/javascript");
                      script.setAttribute("src", recaptchaUrl);
                      document.head.appendChild(script);

                      script.addEventListener("load", executeGreCaptcha, false);
                    }
                  }

                  if (this.errors === 0) {
                    $form.submit();
                  }
                })
                .catch((invalid) => {
                  if (invalid.length > 0) {
                    invalid[0].focus();
                  }
                });
            },
          };
        }

        window.addEventListener("DOMContentLoaded", () => {
          hyva.formValidation.addRule("telephone", (value, options) => {
            const phoneNumber = value.trim().replace(" ", "");
            if (phoneNumber && phoneNumber.length < (options.minlength || 3)) {
              return "The\u0020telephone\u0020number\u0020is\u0020too\u0020short.";
            }

            return true;
          });

          const postCodeSpecs = {
            AD: { pattern_1: { example: "AD100", pattern: "^AD\\d{3}$" } },
            AM: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            AR: {
              pattern_1: { example: "1234", pattern: "^[0-9]{4}$" },
              pattern_2: {
                example: "A1234BCD",
                pattern: "^[a-zA-z]{1}[0-9]{4}[a-zA-z]{3}$",
              },
            },
            AS: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            AT: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            AU: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            AX: { pattern_1: { example: "22123", pattern: "^22\\d{3}$" } },
            AZ: {
              pattern_1: { example: "1234", pattern: "^[0-9]{4}$" },
              pattern_2: { example: "123456", pattern: "^[0-9]{6}$" },
            },
            BA: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            BB: { pattern_1: { example: "BB12345", pattern: "^(BB\\d{5})?$" } },
            BD: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            BE: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            BG: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            BH: {
              pattern_1: {
                example: "323",
                pattern: "^((1[0-2]|[1-9])\\d{2})?$",
              },
            },
            BM: {
              pattern_1: {
                example: "MA 02",
                pattern: "^[A-Z]{2}[ ]?[A-Z0-9]{2}$",
              },
            },
            BN: {
              pattern_1: {
                example: "AB1234",
                pattern: "^[a-zA-z]{2}[0-9]{4}$",
              },
            },
            BR: {
              pattern_1: { example: "12345678", pattern: "^[0-9]{8}$" },
              pattern_2: {
                example: "12345-678",
                pattern: "^[0-9]{5}\\-[0-9]{3}$",
              },
            },
            BY: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            CA: {
              pattern_1: {
                example: "A1B 2C3",
                pattern:
                  "^[a-zA-z]{1}[0-9]{1}[a-zA-z]{1}\\s[0-9]{1}[a-zA-z]{1}[0-9]{1}$",
              },
              pattern_2: {
                example: "A1B2C3",
                pattern:
                  "^[a-zA-z]{1}[0-9]{1}[a-zA-z]{1}[0-9]{1}[a-zA-z]{1}[0-9]{1}$",
              },
              pattern_3: {
                example: "A1B",
                pattern: "^[a-zA-z]{1}[0-9]{1}[a-zA-z]{1}$",
              },
            },
            CC: { pattern_1: { example: "6799", pattern: "^6799$" } },
            CH: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            CK: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            CL: { pattern_1: { example: "1234567", pattern: "^\\d{7}$" } },
            CN: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            CR: {
              pattern_1: {
                example: "12345 or 123-1234",
                pattern: "^\\d{4,5}|\\d{3}-\\d{4}$",
              },
            },
            CS: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            CU: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            CV: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            CX: { pattern_1: { example: "6798", pattern: "^6798$" } },
            CY: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            CZ: {
              pattern_1: {
                example: "123 45",
                pattern: "^[0-9]{3}\\s[0-9]{2}$",
              },
            },
            DE: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            DK: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            DO: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            DZ: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            EC: {
              pattern_1: {
                example: "A1234B or AB123456 or 123456",
                pattern: "^([A-Z]\\d{4}[A-Z]|(?:[A-Z]{2})?\\d{6})?$",
              },
            },
            EE: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            EG: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            ES: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            ET: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            FI: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            FK: { pattern_1: { example: "FIQQ 1ZZ", pattern: "^FIQQ 1ZZ$" } },
            FM: {
              pattern_1: {
                example: "96941",
                pattern: "^(9694[1-4])([ \\-]\\d{4})?$",
              },
            },
            FO: { pattern_1: { example: "123", pattern: "^\\d{3}$" } },
            FR: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            GB: {
              pattern_1: {
                example: "AB12 3CD",
                pattern: "^[a-zA-Z]{2}[0-9]{2}\\s?[0-9]{1}[a-zA-Z]{2}$",
              },
              pattern_2: {
                example: "A1B 2CD",
                pattern:
                  "^[a-zA-Z]{1}[0-9]{1}[a-zA-Z]{1}\\s?[0-9]{1}[a-zA-Z]{2}$",
              },
              pattern_3: {
                example: "AB1 2CD",
                pattern: "^[a-zA-Z]{2}[0-9]{1}\\s?[0-9]{1}[a-zA-Z]{2}$",
              },
              pattern_4: {
                example: "AB1C 2DF",
                pattern:
                  "^[a-zA-Z]{2}[0-9]{1}[a-zA-Z]{1}\\s?[0-9]{1}[a-zA-Z]{2}$",
              },
              pattern_5: {
                example: "A12 3BC",
                pattern: "^[a-zA-Z]{1}[0-9]{2}\\s?[0-9]{1}[a-zA-Z]{2}$",
              },
              pattern_6: {
                example: "A1 2BC",
                pattern: "^[a-zA-Z]{1}[0-9]{1}\\s?[0-9]{1}[a-zA-Z]{2}$",
              },
            },
            GE: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            GF: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            GG: {
              pattern_1: {
                example: "GY10 2AB",
                pattern: "^[gG][yY]([1-9]|10)\\s?[0-9]{1}[a-zA-Z]{2}$",
              },
            },
            GH: {
              pattern_1: {
                example: "GA18400",
                pattern: "^[A-Z][A-Z0-9]\\d{3,5}$",
              },
            },
            GL: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            GN: { pattern_1: { example: "123", pattern: "^\\d{3}$" } },
            GP: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            GR: {
              pattern_1: {
                example: "123 45",
                pattern: "^[0-9]{3}\\s[0-9]{2}$",
              },
            },
            GS: { pattern_1: { example: "SIQQ 1ZZ", pattern: "^SIQQ 1ZZ$" } },
            GT: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            GU: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            GW: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            HM: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            HN: { pattern_1: { example: "12345", pattern: "^(?:\\d{5})?$" } },
            HR: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            HT: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            HU: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            IC: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            ID: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            IL: { pattern_1: { example: "6687865", pattern: "^[0-9]{7}$" } },
            IM: {
              pattern_1: {
                example: "IM1 1AD",
                pattern: "^IM\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}$",
              },
            },
            IN: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            IO: { pattern_1: { example: "BBND 1ZZ", pattern: "^BBND 1ZZ$" } },
            IS: { pattern_1: { example: "123", pattern: "^[0-9]{3}$" } },
            IQ: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            IT: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            JE: {
              pattern_1: {
                example: "JE2 4PJ",
                pattern: "^[jJ][eE][1-5]{1}\\s?[0-9]{1}[a-zA-Z]{2}$",
              },
            },
            JO: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            JP: {
              pattern_1: {
                example: "123-4567",
                pattern: "^[0-9]{3}-[0-9]{4}$",
              },
              pattern_2: { example: "1234567", pattern: "^[0-9]{7}$" },
            },
            KE: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            KG: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            KR: {
              pattern_1: { example: "123-456", pattern: "^[0-9]{3}-[0-9]{3}$" },
              pattern_2: { example: "12345", pattern: "^[0-9]{5}$" },
            },
            KH: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            KW: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            KZ: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            LA: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            LB: {
              pattern_1: {
                example: "1234 5678",
                pattern: "^(\\d{4}([ ]?\\d{4})?)?$",
              },
            },
            LI: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            LK: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            LT: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            LU: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            LV: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            MA: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            MC: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            MD: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            ME: { pattern_1: { example: "81101", pattern: "^8\\d{4}$" } },
            MG: { pattern_1: { example: "123", pattern: "^[0-9]{3}$" } },
            MH: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            MK: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            MN: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            MP: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            MS: {
              pattern_1: { example: "MSR1250", pattern: "^MSR\\s?\\d{4}$" },
            },
            MQ: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            MT: {
              pattern_1: {
                example: "ABC 1234",
                pattern: "^[a-zA-Z]{3}\\s[0-9]{4}$",
              },
              pattern_2: {
                example: "ABC 123",
                pattern: "^[a-zA-Z]{3}\\s[0-9]{3}$",
              },
              pattern_3: {
                example: "ABC 12",
                pattern: "^[a-zA-Z]{3}\\s[0-9]{2}$",
              },
            },
            MU: {
              pattern_1: {
                example: "A1201 or 80110",
                pattern: "^([AR]|[0-9])\\d{4,5}$",
              },
            },
            MV: {
              pattern_1: { example: "12345", pattern: "^[0-9]{5}$" },
              pattern_2: { example: "1234", pattern: "^[0-9]{4}$" },
            },
            MX: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            MY: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            NC: { pattern_1: { example: "98800", pattern: "^988\\d{2}$" } },
            NE: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            NF: { pattern_1: { example: "2899", pattern: "^2899$" } },
            NG: { pattern_1: { example: "123456", pattern: "^(\\d{6})?$" } },
            NI: { pattern_1: { example: "22500", pattern: "^\\d{5}$" } },
            NL: {
              pattern_1: {
                example: "1234 AB\/1234AB",
                pattern: "^[1-9][0-9]{3}\\s?[a-zA-Z]{2}$",
              },
            },
            NO: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            NP: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            NZ: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            OM: {
              pattern_1: {
                example: "PC 123 or 123",
                pattern: "^(PC )?\\d{3}$",
              },
            },
            PA: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            PF: { pattern_1: { example: "98701", pattern: "^987\\d{2}$" } },
            PG: { pattern_1: { example: "123", pattern: "^\\d{3}$" } },
            PH: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            PK: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            PL: {
              pattern_1: { example: "12-345", pattern: "^[0-9]{2}-[0-9]{3}$" },
            },
            PM: { pattern_1: { example: "97500", pattern: "^9[78]5\\d{2}$" } },
            PN: { pattern_1: { example: "PCRN 1ZZ", pattern: "^PCRN 1ZZ$" } },
            PR: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            PT: {
              pattern_1: { example: "1234", pattern: "^[0-9]{4}$" },
              pattern_2: {
                example: "1234-567",
                pattern: "^[0-9]{4}-[0-9]{3}$",
              },
            },
            PW: {
              pattern_1: {
                example: "96939 or 96940",
                pattern: "^(?:96939|96940)$",
              },
            },
            PY: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            RE: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            RO: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            RS: { pattern_1: { example: "123456", pattern: "^\\d{6}$" } },
            RU: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            SA: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            SE: {
              pattern_1: {
                example: "123 45",
                pattern: "^[0-9]{3}\\s[0-9]{2}$",
              },
            },
            SG: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            SI: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            SK: {
              pattern_1: {
                example: "123 45",
                pattern: "^[0-9]{3}\\s[0-9]{2}$",
              },
            },
            SH: {
              pattern_1: { example: "ASCN 1ZZ", pattern: "^(ASCN|STHL) 1ZZ$" },
            },
            SJ: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            SM: { pattern_1: { example: "47890", pattern: "^4789\\d$" } },
            SN: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            SO: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            SZ: {
              pattern_1: { example: "A123", pattern: "^[a-zA-Z]{1}[0-9]{3}$" },
            },
            TC: { pattern_1: { example: "TKCA 1ZZ", pattern: "^TKCA 1ZZ$" } },
            TH: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            TJ: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            TM: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            TN: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            TR: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            TT: { pattern_1: { example: "120110", pattern: "^\\d{6}$" } },
            TW: {
              pattern_1: { example: "12345", pattern: "^[0-9]{5}$" },
              pattern_2: { example: "123", pattern: "^[0-9]{3}$" },
            },
            UA: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            US: {
              pattern_1: {
                example: "12345-6789",
                pattern: "^[0-9]{5}\\-[0-9]{4}$",
              },
              pattern_2: { example: "12345", pattern: "^[0-9]{5}$" },
            },
            UY: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            UZ: { pattern_1: { example: "123456", pattern: "^[0-9]{6}$" } },
            VA: { pattern_1: { example: "00120", pattern: "^00120$" } },
            VE: { pattern_1: { example: "1234", pattern: "^\\d{4}$" } },
            VI: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            WF: { pattern_1: { example: "98601", pattern: "^986\\d{2}$" } },
            XK: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
            XY: { pattern_1: { example: "12345", pattern: "^[0-9]{5}$" } },
            YT: { pattern_1: { example: "97601", pattern: "^976\\d{2}$" } },
            ZA: { pattern_1: { example: "1234", pattern: "^[0-9]{4}$" } },
            ZM: { pattern_1: { example: "12345", pattern: "^\\d{5}$" } },
          };

          hyva.formValidation.addRule(
            "postcode",
            (postCode, options, field, context) => {
              context.removeMessages(field, "postcode-warning");
              const countryId =
                  context.fields["country_id"] &&
                  context.fields["country_id"].element.value,
                validatedPostCodeExamples = [],
                countryPostCodeSpecs =
                  countryId && postCodeSpecs ? postCodeSpecs[countryId] : false;

              if (!postCode || !countryPostCodeSpecs) return true;

              for (const postCodeSpec of Object.values(countryPostCodeSpecs)) {
                if (new RegExp(postCodeSpec.pattern).test(postCode))
                  return true;
                validatedPostCodeExamples.push(postCodeSpec.example);
              }
              if (validatedPostCodeExamples) {
                context.addMessages(field, "postcode-warning", [
                  "Provided\u0020Zip\u002FPostal\u0020Code\u0020seems\u0020to\u0020be\u0020invalid.",
                  "\u0020Example\u003A\u0020" +
                    validatedPostCodeExamples.join("; ") +
                    ". ",
                  "If\u0020you\u0020believe\u0020it\u0020is\u0020the\u0020right\u0020one\u0020you\u0020can\u0020ignore\u0020this\u0020notice.",
                ]);
              }

              return true;
            },
          );
        });
      </script>
    </div>
  </div>
</div>