<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exit Intent Modal</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.10.2/dist/cdn.min.js"
      defer
    ></script>
  </head>
  <body class="relative">
    <div class="relative mx-auto max-w-lg text-center">
      <span class="absolute right-2 top-2 cursor-pointer" @click="hide()"
        >X</span
      >
      <div x-data="exitModal()" id="exit-modal" x-show="show">
        <div class="relative mx-auto w-full max-w-md rounded-lg bg-white p-6">
          <span
            class="absolute right-2 top-2 cursor-pointer text-xl"
            @click="hide()"
            >X</span
          >
          <div class="text-center">
            <p class="text-lg font-semibold">Wait! Don't Go!</p>
          </div>
        </div>
      </div>
    </div>

    <script>
      function exitModal() {
        return {
          show: false,
          hide() {
            this.show = false;
          },
          showModal(event) {
            if (event.clientY < 50) {
              this.show = true;
            }
          },
          init() {
            document.addEventListener("mouseout", (event) => {
              this.showModal(event);
            });
          },
        };
      }
    </script>
  </body>
</html>