<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script
    defer
    src="https://unpkg.com/@alpinejs/intersect@3.x.x/dist/cdn.min.js"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/alpinejs@3.9.6/dist/cdn.min.js"
    defer
  ></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            p: "#333333",
            s: "#333333",
            l: "#f5f5f5",
            t: "#666666",
            a: "#75A53B",
            b: "#B399EF",
            gr: "#D6d6d6",
          },
          screens: {
            xxsm: "420px",
            xxxsm: "360px",
          },
        },
      },
    };
  </script>
</head>
<!-- Contact Information -->
<div class="max-w-7xl mx-auto">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center pb-12">
    <!-- Left Column: Contact Methods -->
    <div class="space-y-16 flex flex-col items-center">
      <!-- Method Cards -->
      <div
        class="relative w-full max-w-md"
        x-data="{ isHovered: false }"
        @mouseenter="isHovered = true"
        @mouseleave="isHovered = false"
      >
        <div class="pl-8 relative">
          <div
            class="w-12 h-12 rounded-full bg-l flex items-center justify-center absolute left-0 top-0 p-2 sm:p-0"
          >
            <svg
              class="w-5 h-5 text-s"
              fill="currentColor"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"
              ></path>
            </svg>
          </div>

          <div class="ml-8">
            <h3 class="text-xl font-light text-s mb-2 font-serif">Call Us</h3>
            <p class="text-t mb-3 pr-8">
              Our team is ready to assist you with any inquiries you may have.
            </p>
            <a
              href="tel:01513030066"
              class="inline-block text-s hover:text-b transition-colors duration-300 luxury-btn"
            >
              0151 303 0066
            </a>
          </div>
        </div>
      </div>

      <!-- Subtle Divider - Kept -->
      <div
        class="w-full max-w-md h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"
      ></div>

      <div
        class="relative w-full max-w-md"
        x-data="{ isHovered: false }"
        @mouseenter="isHovered = true"
        @mouseleave="isHovered = false"
      >
        <div class="pl-8 relative">
          <div
            class="w-12 h-12 rounded-full bg-l flex items-center justify-center absolute left-0 top-0 p-2 sm:p-0"
          >
            <svg
              class="w-5 h-5 text-s"
              fill="currentColor"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
              ></path>
              <path
                d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
              ></path>
            </svg>
          </div>

          <div class="ml-8">
            <h3 class="text-xl font-light text-s mb-2 font-serif">Email Us</h3>
            <p class="text-t mb-3 pr-8">
              Send us an email and we'll get back to you as soon as possible.
            </p>
            <a
              href="mailto:contact@jpopticians.com"
              class="inline-block text-s hover:text-b transition-colors duration-300 luxury-btn"
            >
              contact@jpopticians.com
            </a>
          </div>
        </div>
      </div>

      <!-- Subtle Divider - Kept -->
      <div
        class="w-full max-w-md h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"
      ></div>

      <div
        class="relative w-full max-w-md"
        x-data="{ isHovered: false }"
        @mouseenter="isHovered = true"
        @mouseleave="isHovered = false"
      >
        <div class="pl-8 relative">
          <div
            class="w-12 h-12 rounded-full bg-l flex items-center justify-center absolute left-0 top-0 p-2 sm:p-0"
          >
            <svg
              class="w-5 h-5 text-s"
              fill="currentColor"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
              ></path>
              <path
                d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
              ></path>
            </svg>
          </div>

          <div class="ml-8">
            <h3 class="text-xl font-light text-s mb-2 font-serif">Live Chat</h3>
            <p class="text-t mb-3 pr-8">
              Get instant assistance from our online support team available
              during business hours.
            </p>
            <button
              onclick="Tawk_API.toggle()"
              class="inline-block text-s hover:text-b transition-colors duration-300 luxury-btn"
            >
              Start Conversation
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Column: Contact Form -->
    <div x-data="contactForm" class="relative">
      <div class="p-8 md:p-12 bg-white border border-gray-100 shadow-sm">
        <h3 class="text-2xl font-light text-s mb-8 font-serif">
          Send Us a Message
        </h3>

        <form id="contactForm" @submit.prevent="submitForm" class="space-y-6">
          <!-- Reason Dropdown -->
          <div class="relative border-b border-gray-200">
            <select
              id="reason"
              name="reason"
              x-model="reason"
              class="w-full pb-2 pl-0 text-t bg-transparent focus:outline-none focus:ring-0 border-0"
              required
            >
              <option value="" disabled selected>
                How can we assist you? *
              </option>
              <option value="Placing an Order">
                Help with placing an order
              </option>
              <option value="Order Help">
                Assistance with an existing order
              </option>
              <option value="Return Request">Return or exchange request</option>
              <option value="Other">Something else</option>
            </select>
          </div>

          <!-- Order Number (conditionally shown) -->
          <div
            class="relative border-b border-gray-200"
            x-show="reason === 'Order Help' || reason === 'Return Request'"
          >
            <input
              type="text"
              name="order_number"
              id="order_number"
              class="w-full pb-2 text-t bg-transparent focus:outline-none focus:ring-0 border-0"
              placeholder="Your Order Number"
            />
          </div>

          <!-- Name -->
          <div class="relative border-b border-gray-200">
            <input
              type="text"
              name="name"
              id="name"
              class="w-full pb-2 text-t bg-transparent focus:outline-none focus:ring-0 border-0"
              placeholder="Your Name"
            />
          </div>

          <!-- Contact Method Toggle -->
          <div
            class="flex items-center justify-between py-2 border-b border-gray-200"
          >
            <span class="text-sm text-t">Preferred Contact Method</span>
            <div class="flex items-center space-x-4">
              <button
                @click="contactMethod = 'email'; isPhone = false"
                :class="contactMethod === 'email' ? 'bg-s text-white' : 'bg-gray-200 text-t'"
                class="px-4 py-2 transition-colors duration-300"
              >
                Email
              </button>
              <button
                @click="contactMethod = 'phone'; isPhone = true"
                :class="contactMethod === 'phone' ? 'bg-s text-white' : 'bg-gray-200 text-t'"
                class="px-4 py-2 transition-colors duration-300"
              >
                Phone
              </button>
            </div>
          </div>

          <!-- Email (conditionally shown) -->
          <div
            class="relative border-b border-gray-200"
            x-show="contactMethod === 'email'"
          >
            <input
              type="email"
              name="email"
              id="email"
              class="w-full pb-2 text-t bg-transparent focus:outline-none focus:ring-0 border-0"
              placeholder="Your Email Address *"
              required
              x-bind:required="contactMethod === 'email'"
            />
          </div>

          <!-- Phone (conditionally shown) -->
          <div
            class="relative border-b border-gray-200"
            x-show="contactMethod === 'phone'"
          >
            <input
              type="tel"
              name="phone"
              id="phone"
              class="w-full pb-2 text-t bg-transparent focus:outline-none focus:ring-0 border-0"
              placeholder="Your Phone Number *"
              required
              x-bind:required="contactMethod === 'phone'"
            />
          </div>

          <!-- Message -->
          <div class="relative border-b border-gray-200">
            <textarea
              id="message"
              name="message"
              rows="4"
              class="w-full pb-2 text-t bg-transparent focus:outline-none focus:ring-0 border-0 resize-none"
              placeholder="Your Message *"
              required
            ></textarea>
          </div>

          <!-- File Upload -->
          <div
            class="relative mt-6"
            x-data="{ fileName: '', fileSize: 0, showError: false }"
          >
            <p class="text-sm text-t mb-2">Upload an Image (Optional)</p>

            <div
              class="relative border border-dashed border-gray-300 p-4 transition-all duration-300 hover:border-s"
            >
              <input
                type="file"
                name="image"
                id="image"
                class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
                accept="image/*"
                @change="
                  fileName = $event.target.files.length ? $event.target.files[0].name : '';
                  fileSize = $event.target.files.length ? $event.target.files[0].size : 0;
                  showError = fileSize > 4.5 * 1024 * 1024;
                  if (showError) $event.target.value = '';
                "
              />

              <div class="flex items-center justify-center">
                <template x-if="!fileName">
                  <div class="text-center">
                    <svg
                      class="mx-auto h-12 w-12 text-gray-300"
                      stroke="currentColor"
                      fill="none"
                      viewBox="0 0 48 48"
                      aria-hidden="true"
                    >
                      <path
                        d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    <p class="mt-1 text-sm text-gray-500">
                      Click to upload or drag and drop
                    </p>
                    <p class="text-xs text-gray-400">
                      PNG, JPG, GIF up to 4.5MB
                    </p>
                  </div>
                </template>

                <template x-if="fileName && !showError">
                  <div class="flex items-center">
                    <svg
                      class="flex-shrink-0 h-5 w-5 text-s"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"
                        clip-rule="evenodd"
                      />
                    </svg>
                    <span class="ml-2 text-sm text-t" x-text="fileName"></span>
                    <button
                      type="button"
                      class="ml-auto text-gray-400 hover:text-s"
                      @click.prevent="fileName = ''; document.getElementById('image').value = ''"
                    >
                      <svg
                        class="h-4 w-4"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                          clip-rule="evenodd"
                        />
                      </svg>
                    </button>
                  </div>
                </template>
              </div>
            </div>

            <!-- File Size Error -->
            <div x-show="showError" class="mt-1 text-sm text-red-500">
              File size exceeds the maximum limit of 4.5MB. Please choose a
              smaller file.
            </div>

            <p class="mt-2 text-xs text-gray-400">
              This helps us better understand your inquiry. For prescriptions or
              frame images, please ensure they are clearly visible.
            </p>
          </div>

          <!-- Submit Button -->
          <div class="pt-4">
            <button
              type="submit"
              class="bg-white tracking-wide text-gray-800 font-bold border-b-2 border-gray-800 hover:border-gray-800 hover:bg-gray-800 hover:text-white py-2 px-6 transition-all duration-300"
            >
              Send Message
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="px-4 py-16">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      <!-- Contact Us -->
      <div>
        <h3 class="text-lg font-semibold text-p mb-4">CONTACT US</h3>
        <div class="space-y-3 text-t">
          <p>
            <a href="mailto:contact@jpopticians.com" class="hover:text-a"
              >contact@jpopticians.com</a
            >
          </p>
          <p>
            <a href="tel:01513030066" class="hover:text-a">0151 303 0066</a>
          </p>
          <p>Mon-Fri: 9am-5pm</p>
          <p><a href="#" class="hover:text-a">Live Chat</a></p>
          <p class="text-sm">
            JP Opticians,Everite House, Carr Ln, Wirral CH47 4BG, UK
          </p>
        </div>
      </div>

      <!-- Shop -->
      <div>
        <h3 class="text-lg font-semibold text-p mb-4">SHOP</h3>
        <ul class="space-y-2">
          <li>
            <a href="{{store direct_url="designer-glasses"}}" class="text-t hover:text-a"
              >Designer Glasses</a
            >
          </li>
          <li>
            <a href="{{store direct_url="designer-sunglasses"}}" class="text-t hover:text-a"
              >Designer Sunglasses</a
            >
          </li>
          <li>
            <a href="{{store direct_url="designer-glasses"}}" class="text-t hover:text-a"
              >Shop By Brand</a
            >
          </li>
          <li>
            <a
              href="https://www.spex4less.com/glasses"
              class="text-t hover:text-a"
              target="_blank"
              >Great Value Eyewear by Spex4Less</a
            >
          </li>
          <li>
            <a href="{{store direct_url="reglaze"}}" class="text-t hover:text-a">Reglaze</a>
          </li>
        </ul>
      </div>

      <!-- Useful Information -->
      <div>
        <h3 class="text-lg font-semibold text-p mb-4">INFORMATION</h3>
        <ul class="space-y-2">
          <li>
            <a href="{{store direct_url="faq"}}" class="text-t hover:text-a"
              >Frequently Asked Questions</a
            >
          </li>
          <li>
            <a href="{{store direct_url="contact-us"}}" class="text-t hover:text-a">Contact Us</a>
          </li>
          <li>
            <a href="{{store direct_url="lens-guide"}}" class="text-t hover:text-a">Lens Guide</a>
          </li>
          <li>
            <a href="{{store direct_url="delivery"}}" class="text-t hover:text-a"
              >Dispatch and Shipping</a
            >
          </li>
          <li>
            <a href="{{store direct_url="terms-and-conditions"}}" class="text-t hover:text-a"
              >Terms & Conditions</a
            >
          </li>
        </ul>
      </div>

      <!-- My Account -->
      <div>
        <h3 class="text-lg font-semibold text-p mb-4">MY ACCOUNT</h3>
        <ul class="space-y-2">
          <li>
            <a href="{{store direct_url="customer/account/"}}" class="text-t hover:text-a"
              >My Account</a
            >
          </li>
          <li>
            <a href="{{store direct_url="sales/order/history/"}}" class="text-t hover:text-a"
              >My Orders</a
            >
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<div class="bg-[#333333] text-white py-4 w-full">
  <div class="container mx-auto px-4">
    <div class="text-center text-sm space-y-2">
      <p>
        &copy; 2004 - 2025 JP Opticians, Fashion Specs Direct LTD. All Rights
        Reserved.
      </p>
      <p>
        UK Company Number: 05986776 | VAT Registration Number: 947 4994 58 |
        MHRA Reference Number: 4369
      </p>
    </div>
  </div>
</div>

<script>
  document.addEventListener("alpine:init", () => {
    Alpine.data("contactForm", () => ({
      reason: "",
      contactMethod: "email", // Default to email
      isPhone: false, // Boolean for toggle state
      submitForm() {
        const form = document.getElementById("contactForm");
        const fileInput = document.getElementById("image");

        // Check if we have a file to upload
        if (fileInput.files.length > 0) {
          const file = fileInput.files[0];
          // Additional file size check
          if (file.size > 4.5 * 1024 * 1024) {
            alert(
              "File size exceeds the maximum limit of 4.5MB. Please choose a smaller file."
            );
            return;
          }

          const formData = new FormData(form);

          // Send with file
          fetch("https://n8n.s4l.link/webhook/contact-form", {
            method: "POST",
            body: formData, // FormData automatically handles files
          })
            .then((response) => response.json())
            .then((data) => {
              if (data.message) {
                form.reset();
                alert("Thank you for reaching out! We'll be in touch soon.");
              }
            })
            .catch((error) => {
              console.error("Error:", error);
              alert(
                "There was an issue sending your message. Please try again or contact us directly."
              );
            });
        } else {
          // No file, use JSON submission as before
          const formData = new FormData(form);
          const jsonData = {};

          formData.forEach((value, key) => {
            if (key !== "image") {
              // Skip the file input
              jsonData[key] = value;
            }
          });

          fetch("https://n8n.s4l.link/webhook/contact-form", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(jsonData),
          })
            .then((response) => response.json())
            .then((data) => {
              if (data.message) {
                form.reset();
                alert("Thank you for reaching out! We'll be in touch soon.");
              }
            })
            .catch((error) => {
              console.error("Error:", error);
              alert(
                "There was an issue sending your message. Please try again or contact us directly."
              );
            });
        }
      },
    }));
  });
</script>
