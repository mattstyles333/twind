<section class="px-3 py-8 w-full" id="faq">
  <h2
    class="pt-8 mb-12 text-3xl font-bold tracking-tight text-center text-slate-800 dark:text-gray-300 md:text-4xl"
  >
    {{ .title }}
  </h2>
  <div class="mx-auto md:container lg:px-32">
    <div
      class="mx-auto bg-white border border-gray-200 dark:bg-p dark:text-gray-200"
      x-data="{selected:0}"
    >
      <ul class="shadow-box">
        {{ range $index, $faq := .questions }}
        <li class="relative border-b border-gray-200">
          <button
            type="button"
            class="px-8 py-6 w-full text-left"
            @click="selected !== {{ $index }} ? selected = {{ $index }} : selected = null"
          >
            <div class="flex justify-between items-center">
              <span class="pr-2">{{ .question }}</span>
              <div>
                <span
                  class="block text-lg transition-all duration-700"
                  :class="selected === {{ $index }} ? 'rotate-90' : ''"
                >
                  <svg
                    class="w-5 h-5"
                    fill="#000000"
                    version="1.1"
                    id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 330 330"
                    xml:space="preserve"
                  >
                    <path
                      class="dark:fill-gray-200"
                      id="XMLID_225_"
                      d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393  c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393  s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"
                    />
                  </svg>
                </span>
              </div>
            </div>
          </button>

          <div
            class="overflow-hidden relative max-h-0 transition-all duration-700"
            x-ref="container{{ $index }}"
            x-bind:style="selected == {{ $index }} ? 'max-height: ' + $refs.container{{ $index }}.scrollHeight + 'px' : ''"
          >
            <div class="p-6">
              <p>{{ .answer | safeHTML }}</p>
            </div>
          </div>
        </li>
        {{ end }}
      </ul>
    </div>
  </div>
</section>